{"remainingRequest":"/var/www/html/thien_an/thien-an-salon-website/node_modules/vue-loader-v16/dist/index.js??ref--0-1!/var/www/html/thien_an/thien-an-salon-website/src/views/elements/banHangVaMarketing/thietKeSalon/chinhSuaSalon.vue?vue&type=style&index=0&id=535400fa&scoped=true&lang=css","dependencies":[{"path":"/var/www/html/thien_an/thien-an-salon-website/src/views/elements/banHangVaMarketing/thietKeSalon/chinhSuaSalon.vue","mtime":1627520926723},{"path":"/var/www/html/thien_an/thien-an-salon-website/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/var/www/html/thien_an/thien-an-salon-website/node_modules/vue-loader-v16/dist/stylePostLoader.js","mtime":1624994109000},{"path":"/var/www/html/thien_an/thien-an-salon-website/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/var/www/html/thien_an/thien-an-salon-website/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/var/www/html/thien_an/thien-an-salon-website/node_modules/vue-loader-v16/dist/index.js","mtime":1624994108000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CiogewogIGZvbnQtc2l6ZTogMTRweDsKfQoudGFibGUtaW5wdXQgewogIHBhZGRpbmc6IDVweCAxMHB4Owp9Ci5ib3JkZXJ4IHsKICBib3JkZXI6IDFweCBzb2xpZCAjZDQ0NzZmOwogIHBhZGRpbmc6IDVweCAyNXB4OwogIGJvcmRlci1yYWRpdXM6IDRweDsKICBjdXJzb3I6IHBvaW50ZXI7Cn0KCi5ib3JkZXJ4OmhvdmVyIHsKICBjb2xvcjogd2hpdGU7CiAgYmFja2dyb3VuZC1jb2xvcjogI2Q0NDc2ZjsKfQo="},{"version":3,"sources":["/var/www/html/thien_an/thien-an-salon-website/src/views/elements/banHangVaMarketing/thietKeSalon/chinhSuaSalon.vue"],"names":[],"mappings":";AAsPA,EAAE;EACA,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;AACjB;AACA,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE;EACX,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;AACnB;AACA,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE;EACP,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;EACzB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;EACjB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;EAClB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;AACjB;;AAEA,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE;EACb,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC;EACZ,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;AAC3B","file":"/var/www/html/thien_an/thien-an-salon-website/src/views/elements/banHangVaMarketing/thietKeSalon/chinhSuaSalon.vue","sourceRoot":"","sourcesContent":["<template>\n  <div class=\"col-md-10 res mb-5 mt-3\">\n    <h5 class=\"mt-3 font-weight-bold color-main\">CẬP NHẬT SALON</h5>\n    <!-- Thông tin salon -->\n    <div class=\"mt-4 bg-8 pt-3 pl-5 pr-5\">\n      <form @submit.prevent=\"updateSalon\">\n        <h6>THÔNG TIN SALON</h6>\n        <div class=\"mt-3 pb-2\">\n          <table class=\"table table-borderless\">\n            <tbody class=\"text-right\">\n              <tr>\n                <td style=\"width: 15%\">\n                  <div class=\"table-input\">Ảnh bìa:</div>\n                </td>\n                <td style=\"width: 35%\">\n                  <div v-if=\"url == ''\" class=\"text-center\">\n                    <input\n                      type=\"file\"\n                      id=\"upload\"\n                      hidden\n                      @change=\"onFileChange\"\n                    />\n                    <label\n                      class=\"bg1 mt-3 text-center p-2 pl-4 pr-4 color-main\"\n                      style=\"cursor: pointer\"\n                      for=\"upload\"\n                      >Thêm ảnh</label\n                    >\n                  </div>\n                  <div\n                    v-else\n                    class=\"bg\"\n                    id=\"preview\"\n                    style=\"\n                      cursor: pointer;\n                      justify-content: center;\n                      align-items: center;\n                      display: flex;\n                      position: relative;\n                    \"\n                  >\n                    <img :src=\"url\" alt=\"\" style=\"width: 200px\" />\n                    <img\n                      src=\"../../../../assets/image/xx.png\"\n                      alt=\"\"\n                      style=\"position: absolute; right: 46px; top: -5px\"\n                      @click=\"removeImage()\"\n                    />\n                  </div>\n                </td>\n                <!-- <td style=\"width: 15%\">\n                  <div class=\"table-input\">Ảnh đại diện:</div>\n                </td>\n                <td style=\"width: 35%\">\n                  <div v-if=\"url1 == ''\" class=\"text-center\">\n                    <input\n                      type=\"file\"\n                      id=\"upload1\"\n                      hidden\n                      @change=\"onFileChange1\"\n                    />\n                    <label\n                      class=\"bg1 mt-3 text-center p-2 pl-4 pr-4 color-main\"\n                      style=\"cursor: pointer\"\n                      for=\"upload1\"\n                      >Thêm ảnh</label\n                    >\n                  </div>\n                  <div\n                    v-else\n                    class=\"bg\"\n                    id=\"preview\"\n                    style=\"\n                      cursor: pointer;\n                      justify-content: center;\n                      align-items: center;\n                      display: flex;\n                      position: relative;\n                    \"\n                  >\n                    <img :src=\"url1\" alt=\"\" style=\"width: 200px\" />\n                    <img\n                      src=\"../../../../assets/image/xx.png\"\n                      alt=\"\"\n                      style=\"position: absolute; right: 46px; top: -5px\"\n                      @click=\"removeImage1()\"\n                    />\n                  </div>\n                </td> -->\n              </tr>\n              <tr>\n                <td style=\"width: 15%\">\n                  <div class=\"table-input\">Tên salon:</div>\n                </td>\n                <td colspan=\"3\" style=\"width: 85%\">\n                  <input\n                    type=\"text\"\n                    placeholder=\"Tên Salon \"\n                    class=\"w-100\"\n                    required\n                    v-model=\"posts.salon_name\"\n                  />\n                </td>\n              </tr>\n              <tr>\n                <td style=\"width: 15%\">\n                  <div class=\"table-input\">Địa chỉ:</div>\n                </td>\n                <td colspan=\"3\" style=\"width: 85%\">\n                  <input\n                    type=\"text\"\n                    placeholder=\"Địa chỉ \"\n                    class=\"w-100\"\n                    required\n                    v-model=\"posts.salon_address\"\n                  />\n                </td>\n              </tr>\n              <tr>\n                <td>\n                  <div class=\"table-input\">Hotline:</div>\n                </td>\n                <td>\n                  <input\n                    type=\"tel\"\n                    id=\"phone\"\n                    name=\"phone\"\n                    placeholder=\"0386632727\"\n                    class=\"w-100\"\n                    required\n                    v-model=\"posts.salon_hotline\"\n                  />\n                </td>\n                <td>\n                  <div class=\"table-input\">Email:</div>\n                </td>\n                <td>\n                  <input\n                    type=\"email\"\n                    class=\"w-100\"\n                    placeholder=\"Nhập email...\"\n                    required\n                    v-model=\"posts.salon_email\"\n                  />\n                </td>\n              </tr>\n            </tbody>\n          </table>\n        </div>\n        <div class=\"mt-3 text-center pb-3\">\n          <router-link\n            :to=\"{ name: 'chiTietThietKeSalon', params: { salonId: posts.id } }\"\n          >\n            <span class=\"borderx mr-2 color-main\">Quay lại</span>\n          </router-link>\n          <button type=\"submit\" class=\"borderx color-main\">\n            Lưu và hiển thị\n          </button>\n        </div>\n      </form>\n    </div>\n    <!-- ========================== -->\n  </div>\n</template>\n<script>\nimport { HTTP } from \"@/main\";\nexport default {\n  name: \"chinhSuaSalon\",\n  data() {\n    return {\n      Salon: {\n        salon_name: \"\",\n        salon_hotline: \"\",\n        salon_email: \"\",\n        salon_address: \"\",\n        salon_image: \"\",\n        salon_cover_image: \"\",\n      },\n      errors: [],\n      posts: [],\n      posts1: [],\n      url: \"\",\n      file: \"\",\n    };\n  },\n  created() {\n    let brandID = window.location.href.slice(\n      window.location.href.indexOf(\"/sua-salon/\") + 11,\n      window.location.href.length\n    );\n    HTTP.get(`/salon/main/manage/branch/${brandID}/detail`)\n\n      .then((response) => {\n        this.posts = response.data.data;\n        this.url = this.posts.salon_cover_image;\n        // console.log(this.posts);\n      })\n      .catch((e) => {\n        this.errors.push(e);\n      });\n  },\n  methods: {\n    updateSalon() {\n      let updateID = window.location.href.slice(\n        window.location.href.indexOf(\"/sua-salon/\") + 11,\n        window.location.href.length\n      );\n      let formData = new FormData();\n      formData.append(\"salon_name\", this.posts.salon_name);\n      formData.append(\"salon_hotline\", this.posts.salon_hotline);\n      formData.append(\"salon_email\", this.posts.salon_email);\n      formData.append(\"salon_address\", this.posts.salon_address);\n      formData.append(\"salon_cover_image\", this.file);\n      HTTP.post(`/salon/main/manage/branch/${updateID}/update`, formData).then(\n        (res) => {\n          let result = res.data;\n          if (result.status === 1) {\n            // this.content = \"\";\n            this.$swal(\"\", result.message, \"success\");\n          } else {\n            this.$swal(\"\", result.message, \"error\");\n          }\n        }\n      );\n    },\n\n    removeImage() {\n      this.url = \"\";\n    },\n    onFileChange(e) {\n      this.file = e.target.files[0];\n      this.url = URL.createObjectURL(this.file);\n    },\n    backHistory() {\n      setTimeout(function () {\n        history.back();\n      }, 1000);\n    },\n    onFileChange(e) {\n      this.file = e.target.files[0];\n      this.url = URL.createObjectURL(this.file);\n    },\n  },\n};\n</script>\n<style scoped>\n* {\n  font-size: 14px;\n}\n.table-input {\n  padding: 5px 10px;\n}\n.borderx {\n  border: 1px solid #d4476f;\n  padding: 5px 25px;\n  border-radius: 4px;\n  cursor: pointer;\n}\n\n.borderx:hover {\n  color: white;\n  background-color: #d4476f;\n}\n</style>\n"]}]}