{"remainingRequest":"/var/www/html/thien_an/thien-an-salon-website/node_modules/vue-loader-v16/dist/index.js??ref--0-1!/var/www/html/thien_an/thien-an-salon-website/src/views/elements/lichHen/chiTietLichHen.vue?vue&type=style&index=0&id=55403c96&scoped=true&lang=css","dependencies":[{"path":"/var/www/html/thien_an/thien-an-salon-website/src/views/elements/lichHen/chiTietLichHen.vue","mtime":1627555231020},{"path":"/var/www/html/thien_an/thien-an-salon-website/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/var/www/html/thien_an/thien-an-salon-website/node_modules/vue-loader-v16/dist/stylePostLoader.js","mtime":1624994109000},{"path":"/var/www/html/thien_an/thien-an-salon-website/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/var/www/html/thien_an/thien-an-salon-website/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/var/www/html/thien_an/thien-an-salon-website/node_modules/vue-loader-v16/dist/index.js","mtime":1624994108000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CiogewogIGZvbnQtc2l6ZTogMTRweDsKfQp1bCB7CiAgcGFkZGluZzogMDsKICBtYXJnaW4tdG9wOiA3cHg7Cn0KdWwgbGkgYSB7CiAgY29sb3I6IGJsYWNrOwp9CmhyIHsKICBtYXJnaW4tdG9wOiAwICFpbXBvcnRhbnQ7Cn0KLm5hdmJhciB7CiAgcGFkZGluZzogMDsKfQouXzFBc1dXbCB7CiAgaGVpZ2h0OiAwLjE4NzVyZW07CiAgd2lkdGg6IDEwMCU7CiAgYmFja2dyb3VuZC1wb3NpdGlvbi14OiAtMS44NzVyZW07CiAgYmFja2dyb3VuZC1zaXplOiA3LjI1cmVtIDAuMTg3NXJlbTsKICBiYWNrZ3JvdW5kLWltYWdlOiByZXBlYXRpbmctbGluZWFyLWdyYWRpZW50KAogICAgNDVkZWcsCiAgICAjNmZhNmQ2LAogICAgIzZmYTZkNiAzM3B4LAogICAgdHJhbnNwYXJlbnQgMCwKICAgIHRyYW5zcGFyZW50IDQxcHgsCiAgICAjZjE4ZDliIDAsCiAgICAjZjE4ZDliIDc0cHgsCiAgICB0cmFuc3BhcmVudCAwLAogICAgdHJhbnNwYXJlbnQgODJweAogICk7Cn0KLm9yZmVyX2RldGFpbCB7CiAgcGFkZGluZzogMS4xODc1cmVtIDEuNXJlbSAxLjYyNXJlbSAwOwp9Ci5ib3JkZXJ4IHsKICBib3JkZXI6IDFweCBzb2xpZCAjZDQ0NzZmOwogIHBhZGRpbmc6IDVweCAyNXB4OwogIGJvcmRlci1yYWRpdXM6IDRweDsKICBjdXJzb3I6IHBvaW50ZXI7Cn0KLnRhYmxlLWJvcmRlcmVkIHRoLAoudGFibGUtYm9yZGVyZWQgdGQgewogIGJvcmRlci1ib3R0b206IDJweCBzb2xpZCByZ2IoMTczLCAxNzMsIDE3MykgIWltcG9ydGFudDsKfQo="},{"version":3,"sources":["/var/www/html/thien_an/thien-an-salon-website/src/views/elements/lichHen/chiTietLichHen.vue"],"names":[],"mappings":"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","file":"/var/www/html/thien_an/thien-an-salon-website/src/views/elements/lichHen/chiTietLichHen.vue","sourceRoot":"","sourcesContent":["<template>\n  <div class=\"col-md-10 mb-5 mt-3 res-0\">\n    <div id=\"printMe\">\n      <div class=\"_1AsWWl00\">\n        <div class=\"row\">\n          <div class=\"col-9\">\n            <div class=\"orfer_detail\">\n              <p style=\"font-size: 120%\" class=\"font-weight-bold\">\n                THÔNG TIN NGƯỜI ĐẶT DỊCH VỤ\n              </p>\n              <span>\n                Họ và tên: <b>{{ receiver.name }}</b></span\n              >\n              <br />\n              <span>\n                Số điện thoại: <b>{{ receiver.phone }}</b></span\n              >\n              <br />\n              <span>\n                Giới tính: <b>{{ receiver.sex }}</b></span\n              >\n              <br />\n              <span>\n                Ngày sinh: <b>{{ receiver.birthday }}</b></span\n              >\n              <br />\n              <span>\n                Địa chỉ: <b>{{ receiver.address }}</b>\n              </span>\n              <br />\n              <span>\n                Email: <b>{{ receiver.email }}</b></span\n              >\n              <br />\n            </div>\n          </div>\n          <div class=\"col-3 text-right\">\n            <img\n              :src=\"buyer.image\"\n              alt=\"\"\n              style=\"width: 120px; height: 120px; border-radius: 50%\"\n            />\n          </div>\n        </div>\n      </div>\n      <!-- ================================= -->\n      <div class=\"_1AsWWl\"></div>\n      <div class=\"row mt-3\">\n        <div class=\"col-8\">\n          <div style=\"font-size: 120%\" class=\"font-weight-bold\">\n            THÔNG TIN SALON\n          </div>\n        </div>\n        <!-- <div\n          class=\"col-4 text-right\"\n          v-if=\"order.status_payment == 0 && order.status != 4\"\n        >\n          <span\n            class=\"borderx hover\"\n            data-toggle=\"modal\"\n            data-target=\"#xacNhanThanhToan\"\n          >\n            Xác nhận đã thanh toán\n          </span>\n        </div> -->\n      </div>\n      <div class=\"row\">\n        <span class=\"nav-link\">\n          Salon: <b>{{ buyer.name }}</b>\n        </span>\n        <span class=\"nav-link\">\n          SDT: <b>{{ buyer.phone }}</b>\n        </span>\n        <span class=\"nav-link\">\n          Email: <b>{{ buyer.email }}</b>\n        </span>\n      </div>\n      <div class=\"row\">\n        <span class=\"nav-link\">\n          Trạng thái dịch vụ:\n          <b>{{ order.status_name }}</b>\n        </span>\n        <span class=\"nav-link\">\n          Trạng thái thanh toán:\n          <b>{{ order.status_payment_name }}</b>\n        </span>\n        <span class=\"nav-link\">\n          Ngày đặt lịch:\n          <b> {{ formatDate(order.created_at) }} </b>\n        </span>\n      </div>\n      <!-- ======================= -->\n\n      <!-- =========Thông tin nhân viên================= -->\n      <div class=\"mt-2\">\n        <p class=\"font-weight-bold m-0\">THÔNG TIN NHÂN VIÊN:</p>\n        <table class=\"table\">\n          <tr>\n            <td\n              v-for=\"(item, index) in list_employees\"\n              :key=\"index\"\n              class=\"pl-0\"\n            >\n              <span class=\"font-weight-bold \">{{\n                item.position + \": \" + item.name\n              }}</span>\n            </td>\n          </tr>\n        </table>\n      </div>\n      <!-- ========================================== -->\n      <div style=\"font-size: 120%\" class=\"font-weight-bold mt-3\">\n        THÔNG TIN DỊCH VỤ\n      </div>\n      <div class=\"table-responsive\">\n        <table class=\"table table-hover\">\n          <thead>\n            <tr>\n              <th class=\"font-weight-bold\">#STT</th>\n              <th>Tên dịch vụ</th>\n              <th class=\"text-right\">Tiền</th>\n            </tr>\n          </thead>\n          <tbody>\n            <tr v-for=\"(item, index) in products\" :key=\"index\">\n              <td class=\"fomt-weight-bold\" style=\"width: 10%;\">\n                #{{ index + 1 }}\n              </td>\n              <td>\n                <img\n                  src=\"../../../assets/image/30cd39cc5dd4a5798b6c25f8b66f05151.png\"\n                  alt=\"\"\n                  style=\"width: 35px\"\n                  class=\"mr-2\"\n                />\n                {{ item.service_name }}\n              </td>\n              <td class=\"text-right color-main font-weight-bold\">\n                {{ formatPrice(item.price) }}\n              </td>\n            </tr>\n          </tbody>\n        </table>\n      </div>\n      <hr />\n      <div class=\"_1AsWWl\"></div>\n      <table class=\"table table-bordered table-hover text-right\">\n        <tbody>\n          <tr>\n            <th style=\"width: 80%\">Tổng tiền hàng</th>\n            <th>{{ formatPrice(order.total_money) }}</th>\n          </tr>\n          <tr>\n            <td>Chiết khấu</td>\n            <td>{{ \"- \" + formatPrice(order.discount) }}</td>\n          </tr>\n          <tr>\n            <td>Giảm giá</td>\n            <td>{{ \"- \" + formatPrice(order.voucher) }}</td>\n          </tr>\n          <tr>\n            <td>Phí phát sinh</td>\n            <td>{{ \"+ \" + formatPrice(order.extra_fee) }}</td>\n          </tr>\n          <tr>\n            <td>Thẻ khách hàng</td>\n            <td>{{ order.card }}</td>\n          </tr>\n          <tr>\n            <td>Hình thức thanh toán</td>\n            <td>{{ order.type_payment }}</td>\n          </tr>\n          <tr>\n            <td class=\"font-weight-bold\">Tổng số tiền</td>\n            <td style=\"font-size: 150%; color: #f18d9b; font-weight: bold\">\n              {{ formatPrice(order.total_money_after) }}\n            </td>\n          </tr>\n        </tbody>\n      </table>\n    </div>\n    <!-- ============== -->\n    <!-- XÁc nhận  thanh toán -->\n    <div class=\"modal fade\" id=\"xacNhanThanhToan\" role=\"dialog\">\n      <div class=\"modal-dialog\" style=\"top: 15%\">\n        <div class=\"modal-content\">\n          <div class=\"modal-body\">\n            <div\n              class=\"color-main mb-2 font-weight-bold\"\n              style=\"font-size: 120%\"\n            >\n              Chọn tài khoản nhận tiền:\n            </div>\n            <select\n              class=\"inputx mr-3 res-margin-0 mt-3\"\n              style=\"width: 100%; outline: none\"\n            >\n              <option value=\"\">--Chọn tài khoản--</option>\n\n              <option v-for=\"bank in listBank\" :key=\"bank.id\" :value=\"bank.id\">\n                {{ bank.bank }}\n              </option>\n            </select>\n          </div>\n          <div class=\"modal-footer\">\n            <button\n              class=\"input creat-status\"\n              style=\"opacity: 0.5\"\n              data-dismiss=\"modal\"\n            >\n              Huỷ\n            </button>\n            <button\n              @click=\"confirmBill\"\n              class=\"input creat-status\"\n              data-dismiss=\"modal\"\n            >\n              Xác nhận\n            </button>\n          </div>\n        </div>\n      </div>\n    </div>\n    <!-- ============== -->\n    <div class=\"text-center mt-4\">\n      <button class=\"borderx color-main mr-3 hover\" @click=\"backPage\">\n        Quay lại\n      </button>\n      <button class=\"borderx color-main hover\" @click=\"print\">\n        In hoá đơn\n      </button>\n    </div>\n    <!-- ================= -->\n  </div>\n</template>\n\n<script>\nimport { HTTP } from \"@/main\";\nimport { formatPrice, formatDate } from \"@/main\";\nimport { defineComponent } from \"vue\";\nexport default defineComponent({\n  name: \"chiTietLichHen\",\n  data() {\n    return {\n      posts: [],\n      detail: [],\n      order: [],\n      receiver: [],\n      buyer: [],\n      products: [],\n      delivery: 15000,\n      voucher: 30000,\n      errors: [],\n      listBank: [],\n      list_employees: [],\n    };\n  },\n  beforeMount() {\n    this.getListBank();\n  },\n  methods: {\n    print() {\n      this.$htmlToPaper(\"printMe\");\n    },\n    // Danh sách các ngân hàng\n    getListBank() {\n      HTTP.get(`/salon/main/manage/funds?page=1&salon_id=1`).then((res) => {\n        let result = res.data;\n        if (result.status === 1) {\n          let data = result.data.data;\n          this.listBank = data;\n        }\n      });\n    },\n    // =======================\n    // Xác nhận thanh toán\n    confirmBill() {\n      HTTP.put(\n        `/salon/main/manage/order/${this.orderId}/payment?funds_id=${this.updatedOrder.funds_id}`\n      ).then((res) => {\n        let result = res.data;\n        if (result.status === 1) {\n          this.$swal(\"Đã xác nhận!\", result.message, \"success\");\n          this.listOrder();\n        } else {\n          this.$swal(\"\", result.message, \"error\");\n        }\n      });\n    },\n    // =================\n    backPage() {\n      history.back();\n    },\n    formatPrice,\n    formatDate,\n  },\n  created() {\n    let Code = this.$route.params.lichHenId;\n    HTTP.get(`/salon/main/manage/appointmentSchedule/${Code}`)\n      .then((res) => {\n        this.detail = res.data.data;\n        this.receiver = this.detail.user;\n        this.order = this.detail.order;\n        console.log(this.order);\n        this.buyer = this.detail.receiver;\n        this.products = this.detail.services;\n        this.list_employees = this.detail.list_employee;\n      })\n      .catch((e) => {\n        this.errors.push(e);\n      });\n  },\n});\n</script>\n<style scoped>\n* {\n  font-size: 14px;\n}\nul {\n  padding: 0;\n  margin-top: 7px;\n}\nul li a {\n  color: black;\n}\nhr {\n  margin-top: 0 !important;\n}\n.navbar {\n  padding: 0;\n}\n._1AsWWl {\n  height: 0.1875rem;\n  width: 100%;\n  background-position-x: -1.875rem;\n  background-size: 7.25rem 0.1875rem;\n  background-image: repeating-linear-gradient(\n    45deg,\n    #6fa6d6,\n    #6fa6d6 33px,\n    transparent 0,\n    transparent 41px,\n    #f18d9b 0,\n    #f18d9b 74px,\n    transparent 0,\n    transparent 82px\n  );\n}\n.orfer_detail {\n  padding: 1.1875rem 1.5rem 1.625rem 0;\n}\n.borderx {\n  border: 1px solid #d4476f;\n  padding: 5px 25px;\n  border-radius: 4px;\n  cursor: pointer;\n}\n.table-bordered th,\n.table-bordered td {\n  border-bottom: 2px solid rgb(173, 173, 173) !important;\n}\n</style>\n"]}]}