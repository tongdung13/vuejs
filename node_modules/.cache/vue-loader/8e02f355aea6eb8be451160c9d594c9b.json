{"remainingRequest":"/var/www/html/thien_an/thien-an-salon-website/node_modules/vue-loader-v16/dist/index.js??ref--0-1!/var/www/html/thien_an/thien-an-salon-website/src/views/elements/lichHen/dichVuOffline.vue?vue&type=style&index=0&id=f12c55c8&scoped=true&lang=css","dependencies":[{"path":"/var/www/html/thien_an/thien-an-salon-website/src/views/elements/lichHen/dichVuOffline.vue","mtime":1627520926727},{"path":"/var/www/html/thien_an/thien-an-salon-website/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/var/www/html/thien_an/thien-an-salon-website/node_modules/vue-loader-v16/dist/stylePostLoader.js","mtime":1624994109000},{"path":"/var/www/html/thien_an/thien-an-salon-website/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/var/www/html/thien_an/thien-an-salon-website/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/var/www/html/thien_an/thien-an-salon-website/node_modules/vue-loader-v16/dist/index.js","mtime":1624994108000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CiogewogIGZvbnQtc2l6ZTogMTRweDsKfQoudGFibGUtaW5wdXQgewogIHBhZGRpbmc6IDVweCAxMHB4Owp9Ci5ib3JkZXJ4IHsKICBib3JkZXI6IDFweCBzb2xpZCAjZDQ0NzZmOwogIHBhZGRpbmc6IDVweCAyNXB4OwogIGJvcmRlci1yYWRpdXM6IDRweDsKICBjdXJzb3I6IHBvaW50ZXI7Cn0KCi5ib3JkZXJ4OmhvdmVyIHsKICBjb2xvcjogd2hpdGU7CiAgYmFja2dyb3VuZC1jb2xvcjogI2Q0NDc2ZjsKfQoKbGFiZWwgewogIHBhZGRpbmc6IDI1cHggMTVweDsKICBiYWNrZ3JvdW5kOiByZ2JhKDI1NSwgMjU1LCAyNTUsIDAuNTYpOwoKICBib3gtc2hhZG93OiAwcHggNHB4IDRweCByZ2JhKDAsIDAsIDAsIDAuMDUpOwogIGJvcmRlci1yYWRpdXM6IDhweDsKfQoKdWwgewogIHBhZGRpbmc6IDVweCAxNXB4Owp9CgpsaSB7CiAgcGFkZGluZzogNXB4IDE1cHg7CiAgbGlzdC1zdHlsZTogbm9uZTsKfQoKLmNhcmQtaGVhZGVyIHsKICBwYWRkaW5nOiA1cHg7CiAgYm9yZGVyLWJvdHRvbTogbm9uZTsKICBiYWNrZ3JvdW5kOiByZ2JhKDI1NSwgMjU1LCAyNTUsIDAuNTYpOwp9CgouY2FyZC1ib2R5IHsKICBwYWRkaW5nOiAwOwp9CgouY2FyZCB7CiAgYm9yZGVyOiBub25lOwp9Ci5hY3RpdmVfY3VzIHsKICBiYWNrZ3JvdW5kOiAjZDQ0NzZmOwogIGNvbG9yOiB3aGl0ZTsKfQo="},{"version":3,"sources":["/var/www/html/thien_an/thien-an-salon-website/src/views/elements/lichHen/dichVuOffline.vue"],"names":[],"mappings":"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","file":"/var/www/html/thien_an/thien-an-salon-website/src/views/elements/lichHen/dichVuOffline.vue","sourceRoot":"","sourcesContent":["<template>\n  <div class=\"col-md-10 res mb-5 mt-3\">\n    <h5 class=\"mt-3 font-weight-bold color-main\">ĐẶT DỊCH VỤ OFFLINE</h5>\n    <!-- Thông tin người nhận -->\n    <div class=\"mt-4 bg-8 pt-3 pl-5 pr-5\">\n      <h6>THÔNG TIN NGƯỜI ĐẶT</h6>\n      <div class=\"mt-4\">\n        <span\n          class=\"borderx mr-3\"\n          @click=\"activeKh = 1\"\n          :class=\"{ active_cus: activeKh == 1 }\"\n        >\n          Khách hàng mới\n        </span>\n        <span\n          class=\"borderx\"\n          @click=\"activeKh = 2\"\n          :class=\"{ active_cus: activeKh == 2 }\"\n        >\n          Khách hàng đã có TK\n        </span>\n      </div>\n      <div class=\"mt-3 pb-2\">\n        <div class=\"mt-3 pb-2\">\n          <table class=\"table table-borderless\" v-if=\"activeKh == 1\">\n            <tbody class=\"text-right\">\n              <tr>\n                <td style=\"width: 15%;\">\n                  <div class=\"table-input\">\n                    Họ và tên <span class=\"text-danger\"> * </span>:\n                  </div>\n                </td>\n                <td style=\"width: 35%\">\n                  <input\n                    type=\"text\"\n                    placeholder=\"Họ và tên \"\n                    class=\"w-100\"\n                    v-model=\"formsubmit.name\"\n                    required\n                  />\n                </td>\n                <td style=\"width: 15%;\">\n                  <div class=\"table-input\">\n                    Email <span class=\"text-danger\"> * </span>:\n                  </div>\n                </td>\n                <td>\n                  <input\n                    type=\"email\"\n                    class=\"w-100\"\n                    placeholder=\"Nhập email...\"\n                    v-model=\"formsubmit.email\"\n                  />\n                </td>\n              </tr>\n              <tr>\n                <td style=\"width: 15%;\">\n                  <div class=\"table-input\">\n                    Số điện thoại <span class=\"text-danger\"> * </span>:\n                  </div>\n                </td>\n                <td>\n                  <input\n                    type=\"tel\"\n                    id=\"phone\"\n                    name=\"phone\"\n                    placeholder=\"0386632727\"\n                    class=\"w-100\"\n                    v-model=\"formsubmit.phone\"\n                    required\n                  />\n                </td>\n                <td style=\"width: 15%;\">\n                  <div class=\"table-input\">\n                    Địa chỉ <span class=\"text-danger\"> * </span>:\n                  </div>\n                </td>\n                <td>\n                  <input\n                    type=\"text\"\n                    class=\"w-100\"\n                    placeholder=\"Nhập địa chỉ...\"\n                    v-model=\"formsubmit.address\"\n                  />\n                </td>\n              </tr>\n              <tr>\n                <td style=\"width: 15%;\">\n                  <div class=\"table-input\">\n                    Giới tính <span class=\"text-danger\"> * </span>:\n                  </div>\n                </td>\n                <td class=\"text-left\">\n                  <select\n                    class=\"inputx mr-3 res-margin-0\"\n                    style=\"outline: none\"\n                    v-model=\"formsubmit.sex\"\n                  >\n                    <option value=\"\">--Chọn giới tính--</option>\n                    <option value=\"1\">Nam</option>\n                    <option value=\"2\">Nữ</option>\n                  </select>\n                </td>\n                <td style=\"width: 15%;\">\n                  <div class=\"table-input\">\n                    Ngày sinh <span class=\"text-danger\"> * </span>:\n                  </div>\n                </td>\n                <td>\n                  <input\n                    type=\"date\"\n                    class=\"w-100\"\n                    v-model=\"formsubmit.birthday\"\n                    required\n                  />\n                </td>\n              </tr>\n            </tbody>\n          </table>\n          <div v-if=\"activeKh == 2\">\n            <table class=\"table table-borderless\">\n              <tbody class=\"text-right\">\n                <tr>\n                  <td style=\"width: 15%;\">\n                    <div class=\"table-input\">\n                      Chọn sđt KH <span class=\"text-danger\"> * </span>:\n                    </div>\n                  </td>\n                  <td style=\"width: 35%\">\n                    <multiselect\n                      v-model=\"selected\"\n                      :options=\"listCustomers\"\n                      :custom-label=\"nameWithLang\"\n                      :close-on-select=\"true\"\n                      :clear-on-select=\"true\"\n                      placeholder=\"--Nhập thông tin khách hàng--\"\n                      label=\"phone\"\n                      @select=\"onSelect($event)\"\n                    >\n                    </multiselect>\n                  </td>\n                  <td style=\"width: 15%;\">\n                    <div class=\"table-input\">Email:</div>\n                  </td>\n                  <td>\n                    <input\n                      type=\"email\"\n                      class=\"w-100\"\n                      placeholder=\"Nhập email...\"\n                      v-model=\"formsubmit.email\"\n                    />\n                  </td>\n                </tr>\n                <tr>\n                  <td>\n                    <div class=\"table-input\">Tên khách hàng:</div>\n                  </td>\n                  <td>\n                    <input\n                      type=\"tel\"\n                      id=\"phone\"\n                      name=\"phone\"\n                      placeholder=\"0386632727\"\n                      class=\"w-100\"\n                      v-model=\"formsubmit.name\"\n                      readonly\n                    />\n                  </td>\n                  <td>\n                    <div class=\"table-input\">Địa chỉ:</div>\n                  </td>\n                  <td>\n                    <input\n                      type=\"text\"\n                      class=\"w-100\"\n                      placeholder=\"Nhập địa chỉ...\"\n                      v-model=\"formsubmit.address\"\n                    />\n                  </td>\n                </tr>\n                <tr>\n                  <td style=\"width: 15%;\">\n                    <div class=\"table-input\">\n                      Giới tính:\n                    </div>\n                  </td>\n                  <td class=\"text-left\">\n                    <select\n                      class=\"inputx mr-3 res-margin-0\"\n                      style=\"outline: none\"\n                      v-model=\"formsubmit.sex\"\n                    >\n                      <option value=\"\">--Chọn giới tính--</option>\n                      <option value=\"1\">Nam</option>\n                      <option value=\"2\">Nữ</option>\n                    </select>\n                  </td>\n                  <td style=\"width: 15%;\">\n                    <div class=\"table-input\">\n                      Ngày sinh <span class=\"text-danger\"> * </span>:\n                    </div>\n                  </td>\n                  <td>\n                    <input\n                      type=\"date\"\n                      class=\"w-100\"\n                      v-model=\"formsubmit.birthday\"\n                      required\n                    />\n                  </td>\n                </tr>\n                <!-- <tr>\n                  <td style=\"width: 15%;\">\n                    <div class=\"table-input\">\n                      Chọn thẻ thanh toán <span class=\"text-danger\"> * </span>:\n                    </div>\n                  </td>\n                  <td>\n                    <select\n                      class=\"inputx mr-3 res-margin-0\"\n                      style=\"width: 100%; outline: none\"\n                      v-model=\"formsubmit.funds_id\"\n                    >\n                      <option value=\"\">--Chọn thẻ--</option>\n                      <option value=\"0\">Thẻ tiền</option>\n                      <option value=\"1\">Thẻ giảm giá</option>\n                      <option value=\"2\">Thẻ lượt</option>\n                    </select>\n                  </td>\n                </tr> -->\n              </tbody>\n            </table>\n          </div>\n        </div>\n      </div>\n    </div>\n    <!-- ========================== -->\n\n    <!-- Thong tin bán hàng -->\n    <div class=\"mt-4 bg-8 pt-3 pl-5 pr-5\">\n      <h6>THÔNG TIN DỊCH VỤ</h6>\n      <div class=\"mt-3 pb-2\">\n        <table class=\"table table-borderless\">\n          <tbody class=\"text-right\">\n            <tr>\n              <td style=\"width: 15%\">\n                <div class=\"table-input\">Tên salon:</div>\n              </td>\n              <td style=\"width: 35%;\">\n                <select\n                  class=\"inputx mr-3 res-margin-0\"\n                  style=\"width: 100%; outline: none\"\n                  v-model=\"formsubmit.salon_id\"\n                  @change=\"onclickSalon(formsubmit.salon_id)\"\n                >\n                  <option value=\"\">Tất cả salon</option>\n                  <option\n                    v-for=\"salon in listStore\"\n                    :key=\"salon.id\"\n                    :value=\"salon.id\"\n                  >\n                    {{ salon.salon_name }}\n                  </option>\n                </select>\n              </td>\n              <td>\n                <div class=\"table-input\">Thời gian:</div>\n              </td>\n              <td style=\"width: 35%\">\n                <input\n                  type=\"datetime-local\"\n                  class=\"w-100\"\n                  v-model=\"formsubmit.date_time\"\n                />\n              </td>\n              <!-- <td style=\"width: 15%\">\n                <div class=\"table-input\">Thẻ thanh toán:</div>\n              </td>\n              <td>\n                <div v-if=\"formsubmit.salon_id\">\n                  <select\n                    class=\"inputx mr-3 res-margin-0\"\n                    style=\"width: 100%; outline: none\"\n                    v-model=\"formsubmit.payment\"\n                  >\n                    <option value=\"\">--Chọn ngân hàng--</option>\n                    <option\n                      v-for=\"(item, index) in listBank\"\n                      :key=\"index\"\n                      :value=\"item.id\"\n                    >\n                      {{ item.bank }}\n                    </option>\n                  </select>\n                </div>\n                <div v-else class=\"inputx text-left\">\n                  --Chọn salon--\n                </div>\n              </td> -->\n            </tr>\n            <tr\n              v-for=\"(item, index) in formsubmit.productId.length\"\n              :key=\"index\"\n            >\n              <td style=\"width: 15%\">\n                <div class=\"table-input\">Tên dịch vụ {{ index + 1 }}:</div>\n              </td>\n              <td>\n                <select\n                  v-if=\"formsubmit.salon_id\"\n                  class=\"inputx mr-3 res-margin-0\"\n                  style=\"width: 100%; outline: none\"\n                  v-model=\"formsubmit.productId[index].id\"\n                  @change=\"returnPrice(formsubmit.productId[index].id, index)\"\n                >\n                  <option value=\"\">Tất cả dịch vụ</option>\n\n                  <option\n                    v-for=\"product in listProducts\"\n                    :key=\"product.id\"\n                    :value=\"product.id\"\n                  >\n                    {{ product.title }}\n                  </option>\n                </select>\n                <div v-else class=\"inputx text-left\">\n                  --Chọn dịch vụ--\n                </div>\n              </td>\n              <td style=\"width: 15%\">\n                <div class=\"table-input\">Đơn giá:</div>\n              </td>\n              <td>\n                <span class=\"w-50 float-left\">\n                  <div v-if=\"formsubmit.productId[index].id\" class=\"inputx\">\n                    <b class=\"color-main\">\n                      {{ formatPrice(formsubmit.productId[index].price) }}\n                    </b>\n                  </div>\n                  <div v-else class=\"inputx color-main\">\n                    VNĐ\n                  </div>\n                </span>\n                <span class=\"w-50 p-0\" style=\"vertical-align: sub;\">\n                  <span class=\" borderx color-main\" @click=\"removeSalon(index)\">\n                    Xoá\n                  </span>\n                </span>\n              </td>\n            </tr>\n            <tr>\n              <td></td>\n              <td></td>\n              <td colspan=\"2\">\n                <span class=\"borderx\" @click=\"pushQualiti\">Thêm dịch vụ</span>\n              </td>\n            </tr>\n            <tr>\n              <td>\n                <div class=\"table-input\">Thẻ ưu đãi:</div>\n              </td>\n              <td>\n                <div v-if=\"activeKh == 1\">\n                  <input\n                    type=\"text\"\n                    class=\"w-100\"\n                    placeholder=\"Khách chưa có thẻ\"\n                    readonly\n                  />\n                </div>\n                <div v-else>\n                  <select\n                    class=\"inputx mr-3 res-margin-0\"\n                    style=\"width: 100%; outline: none\"\n                    @change=\"choseCard\"\n                    v-model=\"detailCard\"\n                  >\n                    <option value=\"\">--Chọn thẻ--</option>\n                    <option\n                      v-for=\"(item, index) in listCard\"\n                      :key=\"index\"\n                      :value=\"item\"\n                    >\n                      {{ item.type_name }}\n                      <span v-if=\"item.type == 2\">\n                        {{ \" \" + item.ratio + \" %\" }}\n                      </span>\n                      -- {{ \"còn \" + formatPrice(item.total_money) }} --\n                      {{ item.use + \" lượt\" }}\n                    </option>\n                  </select>\n                </div>\n              </td>\n              <td>\n                <div class=\"table-input\">Phí phát sinh:</div>\n              </td>\n              <td style=\"width: 35%\">\n                <div class=\"right-inner-addon input-container\">\n                  <span>VNĐ</span>\n                  <input\n                    type=\"number\"\n                    class=\"w-100\"\n                    v-model=\"formsubmit.incurred\"\n                    @change=\"convertIncurred\"\n                  />\n                </div>\n              </td>\n            </tr>\n            <tr>\n              <td>\n                <div class=\"table-input\">Giảm tiền mặt:</div>\n              </td>\n              <td>\n                <div\n                  v-if=\"price_before\"\n                  class=\"right-inner-addon input-container\"\n                >\n                  <span>VNĐ</span>\n                  <input\n                    type=\"number\"\n                    class=\"w-100\"\n                    v-model=\"formsubmit.discount\"\n                    @change=\"convertPercentToDiscount\"\n                  />\n                </div>\n                <div v-else class=\"right-inner-addon input-container\">\n                  <span>VNĐ</span>\n                  <input\n                    type=\"number\"\n                    class=\"w-100\"\n                    v-model=\"formsubmit.discount\"\n                    @change=\"convertPercentToDiscount\"\n                    readonly\n                  />\n                </div>\n              </td>\n              <td>\n                <div class=\"table-input\">Chiết khấu %:</div>\n              </td>\n              <td>\n                <div\n                  v-if=\"price_before\"\n                  class=\"right-inner-addon input-container\"\n                >\n                  <span>%</span>\n                  <input\n                    type=\"number\"\n                    class=\"w-100\"\n                    v-model=\"formsubmit.percent\"\n                    @change=\"convertDiscountToPercent\"\n                  />\n                </div>\n                <div v-else class=\"right-inner-addon input-container\">\n                  <span>%</span>\n                  <input\n                    type=\"number\"\n                    class=\"w-100\"\n                    v-model=\"formsubmit.percent\"\n                    @change=\"convertDiscountToPercent\"\n                    readonly\n                  />\n                </div>\n              </td>\n            </tr>\n            <tr>\n              <td>\n                <div class=\"table-input\">Mã giảm giá:</div>\n              </td>\n              <td>\n                <div v-if=\"formsubmit.productId[0].id\">\n                  <div class=\"row\">\n                    <div class=\"col-8\">\n                      <select\n                        class=\"inputx mr-3 res-margin-0\"\n                        style=\"width: 100%; outline: none\"\n                        v-model=\"formsubmit.vouchers\"\n                        @change=\"choseVoucher\"\n                      >\n                        <option value=\"\">--Chọn mã giảm giá--</option>\n\n                        <option\n                          v-for=\"voucher in listVoucher\"\n                          :key=\"voucher.id\"\n                          :value=\"voucher\"\n                        >\n                          {{ voucher.code }} -- {{ voucher.title }}\n                        </option>\n                      </select>\n                    </div>\n                    <div class=\"col-4\">\n                      <div class=\"right-inner-addon input-container\">\n                        <span>₫</span>\n                        <input\n                          type=\"number\"\n                          class=\"w-100\"\n                          v-model=\"priceVoucher\"\n                          readonly\n                        />\n                      </div>\n                    </div>\n                  </div>\n                </div>\n                <div v-else>\n                  <input\n                    type=\"text\"\n                    class=\"w-100\"\n                    placeholder=\"Vui lòng chọn dịch vụ\"\n                    readonly\n                  />\n                </div>\n              </td>\n              <td style=\"width: 15%;\">\n                <div class=\"table-input\">Tổng hoá đơn:</div>\n              </td>\n              <td>\n                <div\n                  v-if=\"price_after < 0\"\n                  class=\"right-inner-addon input-container\"\n                >\n                  <span>VNĐ</span>\n                  <input type=\"text\" class=\"w-100\" readonly />\n                </div>\n                <div v-else class=\"input\">\n                  {{ formatPrice(price_after) }}\n                </div>\n              </td>\n            </tr>\n          </tbody>\n        </table>\n      </div>\n    </div>\n    <!-- ================== -->\n    <!-- Thông tin nhân viên bán hàng -->\n    <div class=\"mt-4 bg-8 pt-3 pl-5 pr-5\">\n      <h6>THÔNG TIN NHÂN VIÊN BÁN HÀNG</h6>\n      <div class=\"mt-3 pb-2\">\n        <table class=\"table table-borderless\">\n          <tbody class=\"text-right\">\n            <tr>\n              <td style=\"width: 15%;\">\n                <div class=\"table-input\">Bán hàng:</div>\n              </td>\n              <td style=\"width: 35%;\">\n                <!-- tìm kiếm select bán hàng -->\n                <multiselect\n                  v-model=\"selectedBanHang\"\n                  :options=\"listEmploy.nvBanHang\"\n                  :close-on-select=\"true\"\n                  :clear-on-select=\"true\"\n                  placeholder=\"--Nhập thông tin khách hàng--\"\n                  label=\"name\"\n                  @select=\"onSelectBanHang($event)\"\n                >\n                </multiselect>\n                <!-- ======================== -->\n              </td>\n              <td style=\"width: 15%;\">\n                <div class=\"table-input\">Marketing:</div>\n              </td>\n              <td style=\"width: 35%;\">\n                <!-- tìm kiếm select Marketing -->\n                <multiselect\n                  v-model=\"selectedMar\"\n                  :options=\"listEmploy.nvChamSoc\"\n                  :close-on-select=\"true\"\n                  :clear-on-select=\"true\"\n                  placeholder=\"--Nhập thông tin khách hàng--\"\n                  label=\"name\"\n                  @select=\"onSelectMar($event)\"\n                >\n                </multiselect>\n                <!-- ======================== -->\n              </td>\n            </tr>\n            <tr>\n              <td style=\"width: 15%;\">\n                <div class=\"table-input\">Thợ chính:</div>\n              </td>\n              <td style=\"width: 35%;\">\n                <!-- tìm kiếm select thợ chính -->\n                <multiselect\n                  v-model=\"selectedThoChinh\"\n                  :options=\"listEmploy.nvThoChinh\"\n                  :close-on-select=\"true\"\n                  :clear-on-select=\"true\"\n                  placeholder=\"--Nhập thông tin khách hàng--\"\n                  label=\"name\"\n                  @select=\"onSelectThoChinh($event)\"\n                >\n                </multiselect>\n                <!-- ======================== -->\n              </td>\n              <td style=\"width: 15%;\">\n                <div class=\"table-input\">Thợ phụ:</div>\n              </td>\n              <td style=\"width: 35%;\">\n                <!-- tìm kiếm select thợ phụ -->\n                <multiselect\n                  v-model=\"selectedThoPhu\"\n                  :options=\"listEmploy.nvThoPhu\"\n                  :close-on-select=\"true\"\n                  :clear-on-select=\"true\"\n                  placeholder=\"--Nhập thông tin khách hàng--\"\n                  label=\"name\"\n                  @select=\"onSelectThoPhu($event)\"\n                >\n                </multiselect>\n                <!-- ======================== -->\n              </td>\n            </tr>\n          </tbody>\n        </table>\n      </div>\n      <div class=\"mt-3 text-center pb-3\">\n        <span @click=\"backPage\" class=\"borderx mr-2 color-main\">Quay lại</span>\n        <span @click=\"submitData\" class=\"borderx color-main\">\n          Lưu và hiển thị\n        </span>\n      </div>\n    </div>\n    <!-- ============================ -->\n  </div>\n</template>\n<script>\nimport { HTTP } from \"@/main\";\nimport { formatPrice } from \"@/main\";\nimport Multiselect from \"../../modul/@suadelabs/vue3-multiselect\";\nexport default {\n  name: \"dichVuOffline\",\n  components: { Multiselect },\n  data() {\n    return {\n      customerId: \"\",\n      customerIdMar: \"\",\n      customerIdTC: \"\",\n      customerIdTP: \"\",\n      listStore: {},\n      activeKh: 1,\n      listEmployees: {},\n      listProducts: {},\n      listServices: {},\n      salon_id: \"\",\n      url: \"\",\n      productId: \"\",\n      amount: \"\",\n      priceProduct: \"\",\n      formsubmit: {\n        name: \"\",\n        phone: \"\",\n        email: \"\",\n        address: \"\",\n        birthday: \"\",\n        sex: \"\",\n        type_card: \"\",\n        salon_id: \"\",\n        productId: [\n          {\n            id: \"\",\n            price: \"\",\n          },\n        ],\n        listServices: [],\n        vouchers: [],\n        voucher_name: \"\",\n        voucher_service: \"\",\n        incurred: \"\",\n        discount: \"\",\n        price: \"\",\n        bill_image: \"\",\n        date_time: \"\",\n        user_id: \"\",\n        user_employee: [],\n      },\n      price_after: 0,\n      price_before: 0,\n      priceVoucher: 0,\n      priceCard: \"\",\n      selected: null,\n      selectedBanHang: null,\n      selectedMar: null,\n      selectedThoChinh: null,\n      selectedThoPhu: null,\n      listCustomers: [],\n      listVoucher: [],\n      listEmploy: {\n        nvBanHang: [],\n        nvChamSoc: [],\n        nvThoChinh: [],\n        nvThoPhu: [],\n      },\n      // listBank: [],\n      listCard: [],\n      detailCard: [],\n    };\n  },\n  created() {\n    HTTP.get(`/salon/main/manage/form/3/employee`).then((res) => {\n      let result = res.data;\n      if (result.status === 1) {\n        let data = result.data;\n        this.listEmploy.nvBanHang = data;\n      }\n    });\n    HTTP.get(`/salon/main/manage/form/4/employee`).then((res) => {\n      let result = res.data;\n      if (result.status === 1) {\n        let data = result.data;\n        this.listEmploy.nvChamSoc = data;\n      }\n    });\n    HTTP.get(`/salon/main/manage/form/5/employee`).then((res) => {\n      let result = res.data;\n      if (result.status === 1) {\n        let data = result.data;\n        this.listEmploy.nvThoChinh = data;\n      }\n    });\n    HTTP.get(`/salon/main/manage/form/6/employee`).then((res) => {\n      let result = res.data;\n      if (result.status === 1) {\n        let data = result.data;\n        this.listEmploy.nvThoPhu = data;\n      }\n    });\n  },\n  beforeMount() {\n    this.listSalons();\n    this.getListCustomers();\n  },\n  methods: {\n    nameWithLang({ name, phone }) {\n      return `${phone} — ${name}`;\n    },\n    onclickSalon(value) {\n      // this.getListBank();\n      (this.formsubmit.productId = [\n        {\n          id: \"\",\n          price: \"\",\n        },\n      ]),\n        (this.salon_id = value);\n      this.listSalons();\n    },\n    // danh sách salon\n    listSalons() {\n      HTTP.get(\"/salon/main/manage/branch/all\").then((res) => {\n        let result = res.data;\n        if (result.status === 1) {\n          let data = result.data;\n\n          if (data.length > 0) {\n            this.listStore = data;\n            this.listGenerals();\n          }\n        } else {\n          this.notification.status = true;\n          this.notification.message = result.message;\n        }\n        this.loading = false;\n      });\n    },\n    // danh sách chung\n    listGenerals() {\n      if (this.salon_id != \"\") {\n        HTTP.get(`/salon/main/manage/form/${this.salon_id}/commission`).then(\n          (res) => {\n            let result = res.data;\n            if (result.status === 1) {\n              this.listProducts = result.data.services;\n            }\n          }\n        );\n      }\n    },\n    // ==============\n    // Danh sách các thẻ\n    listCards() {\n      HTTP.get(`/salon/main/manage/form/${this.formsubmit.user_id}/cards`).then(\n        (res) => {\n          let result = res.data;\n          if (result.status === 1) {\n            this.listCard = result.data;\n          }\n        }\n      );\n    },\n    // ==================\n    // Chọn thẻ\n    choseCard() {\n      this.priceCard = 0;\n      if (this.detailCard == \"\") {\n        this.totalBill();\n        this.priceCard == 0;\n      } else {\n        this.formsubmit.type_card = this.detailCard.id;\n        this.totalBill();\n        if (this.detailCard.type == 1) {\n          this.priceCard = this.detailCard.total_money;\n          if (this.priceCard >= this.price_before) {\n            this.priceCard = this.price_before;\n          }\n        } else if (this.detailCard.type == 2) {\n          this.priceCard = (this.price_before * this.detailCard.ratio) / 100;\n        } else if (this.priceCard === undefined) {\n          this.priceCard = 0;\n        }\n      }\n      this.totalBill();\n    },\n    // =========\n    // Chọn mã giảm giá\n    choseVoucher() {\n      if (this.formsubmit.vouchers == \"\") {\n        this.priceVoucher = 0;\n        this.totalBill();\n      } else {\n        this.formsubmit.voucher = this.formsubmit.vouchers.id;\n        this.formsubmit.voucher_name = this.formsubmit.vouchers.code;\n        this.formsubmit.voucher_service = this.formsubmit.vouchers.product_id;\n        if (this.formsubmit.vouchers.type_discount == 1) {\n          this.totalBill();\n          const price = parseFloat(this.formsubmit.vouchers.discount);\n          this.priceVoucher = (this.price_before * price) / 100;\n\n          this.totalBill();\n        } else if (this.formsubmit.vouchers.type_discount == 2) {\n          this.totalBill();\n          const price = parseFloat(this.formsubmit.vouchers.discount);\n          this.priceVoucher = price;\n\n          this.totalBill();\n        } else if (this.formsubmit.vouchers.type_discount == 3) {\n          this.priceVoucher = 0;\n          this.product_bonus = \"Tặng \" + this.formsubmit.vouchers.product_bonus;\n          this.totalBill();\n        }\n      }\n      // console.log(this.priceVoucher);\n    },\n    // ================\n    // đẩy vào mảng\n    pushQualiti() {\n      this.formsubmit.productId.push({ id: \"\", price: \"\" });\n    },\n    removeSalon(key) {\n      if (this.formsubmit.productId.length > 1) {\n        this.formsubmit.productId.splice(key, 1);\n      }\n      this.totalBill();\n    },\n    // Tìm mã giảm giá\n    searchVoucher() {\n      this.formsubmit.voucher = \"\";\n      let formDataVoucher = new FormData();\n\n      formDataVoucher.append(\"salon_id\", this.formsubmit.salon_id);\n      for (let index = 0; index < this.formsubmit.productId.length; index++) {\n        formDataVoucher.append(\n          \"services[\" + index + \"][id]\",\n          this.formsubmit.productId[index].id\n        );\n      }\n      HTTP.post(`/salon/main/manage/form/voucher?type=2`, formDataVoucher, {\n        headers: {\n          \"Content-Type\": \"multipart/form-data\",\n        },\n      }).then((res) => {\n        let result = res.data;\n        if (result.status === 1) {\n          this.listVoucher = result.data;\n          // console.log(this.listVoucher);\n        } else {\n          this.$swal(\"\", result.message, \"error\");\n        }\n      });\n    },\n    // ===============\n\n    // trả về giá dịch vụ\n    returnPrice(value, chiSo) {\n      this.totalBill();\n      let leng = this.listProducts.length;\n      for (let index = 0; index < leng; index++) {\n        if (this.listProducts[index].id === value) {\n          this.formsubmit.productId[chiSo].price = this.listProducts[\n            index\n          ].price;\n        }\n      }\n      this.searchVoucher();\n      this.totalBill();\n    },\n    // ======================\n\n    // Tính tổng tiền hoá đơn\n    totalBill() {\n      this.price_before = 0;\n      this.price_after = 0;\n      for (let index = 0; index < this.formsubmit.productId.length; index++) {\n        this.price_before += this.formsubmit.productId[index].price;\n      }\n      this.price_after =\n        this.price_before -\n        -this.formsubmit.incurred -\n        this.formsubmit.discount -\n        this.priceCard -\n        this.priceVoucher;\n    },\n    convertIncurred() {\n      this.totalBill();\n    },\n    // =======================\n    // Chuyển chiết khấu tiền => %\n    convertPercentToDiscount() {\n      this.totalBill();\n      let pricePercent = (this.formsubmit.discount / this.price_before) * 100;\n      this.formsubmit.percent = pricePercent.toFixed(2);\n      this.totalBill();\n    },\n    convertDiscountToPercent() {\n      this.totalBill();\n      let priceMoney = (this.price_before * this.formsubmit.percent) / 100;\n      this.formsubmit.discount = priceMoney;\n      this.totalBill();\n    },\n    // ===============================\n\n    // Submit form\n    submitData() {\n      let formData = new FormData();\n\n      formData.append(\"name\", this.formsubmit.name);\n      formData.append(\"phone\", this.formsubmit.phone);\n      formData.append(\"address\", this.formsubmit.address);\n      formData.append(\"birthday\", this.formsubmit.birthday);\n      formData.append(\"sex\", this.formsubmit.sex);\n      formData.append(\"salon_id\", this.formsubmit.salon_id);\n      formData.append(\"discount\", this.formsubmit.discount);\n      formData.append(\"extra_fee\", this.formsubmit.incurred);\n      formData.append(\"date_time\", this.formsubmit.date_time);\n      formData.append(\"voucher\", this.formsubmit.voucher);\n      formData.append(\"voucher_name\", this.formsubmit.voucher_name);\n      formData.append(\"voucher_service\", this.formsubmit.voucher_service);\n      if (this.formsubmit.type_card) {\n        formData.append(\"type_card\", this.formsubmit.type_card);\n      }\n\n      // formData.append(\"service_id\", 1);\n\n      // formData.append(\"funds_id\", this.formsubmit.payment);\n\n      if (this.customerId) {\n        this.formsubmit.user_employee.push(this.customerId);\n      }\n      if (this.customerIdMar) {\n        this.formsubmit.user_employee.push(this.customerIdMar);\n      }\n      if (this.customerIdTC) {\n        this.formsubmit.user_employee.push(this.customerIdTC);\n      }\n      if (this.customerIdTP) {\n        this.formsubmit.user_employee.push(this.customerIdTP);\n      }\n      if (this.formsubmit.user_id) {\n        formData.append(\"user_id\", this.formsubmit.user_id);\n      }\n\n      formData.append(\"user_employee\", this.formsubmit.user_employee);\n      for (let index = 0; index < this.formsubmit.productId.length; index++) {\n        this.formsubmit.listServices.push(this.formsubmit.productId[index].id);\n      }\n      formData.append(\"service_id\", this.formsubmit.listServices);\n      HTTP.post(`/salon/main/manage/appointmentSchedule/store`, formData, {\n        headers: {\n          \"Content-Type\": \"multipart/form-data\",\n        },\n      }).then((res) => {\n        let result = res.data;\n        if (result.status === 1) {\n          this.$swal(\"\", result.message, \"success\");\n          setTimeout(function() {\n            history.back();\n          }, 1000);\n        } else {\n          this.formsubmit.listServices = [];\n          this.formsubmit.user_employee = [];\n          this.$swal(\"\", result.message, \"error\");\n        }\n      });\n    },\n    // ============\n\n    // Danh sách khách hàng\n    getListCustomers() {\n      HTTP.get(`/salon/main/manage/form/customers`).then((res) => {\n        let result = res.data;\n        if (result.status === 1) {\n          let data = result.data.data;\n          this.listCustomers = data;\n        }\n      });\n    },\n    // ====================\n    // Trả thông tin khách hàng\n    onSelect(selected) {\n      this.formsubmit.name = selected.name;\n      this.formsubmit.phone = selected.phone;\n      this.formsubmit.email = selected.email;\n      this.formsubmit.address = selected.address;\n      this.formsubmit.sex = selected.sex;\n      this.formsubmit.birthday = selected.birthday;\n      this.formsubmit.user_id = selected.id;\n\n      this.listCards();\n    },\n    // =========================\n\n    // tìm kiếm nhân viên theo bộ phận\n    onSelectBanHang(banHang) {\n      this.customerId = banHang.id;\n    },\n    onSelectMar(mar) {\n      this.customerIdMar = mar.id;\n    },\n    onSelectThoChinh(thoChinh) {\n      this.customerIdTC = thoChinh.id;\n    },\n    onSelectThoPhu(thoPhu) {\n      this.customerIdTP = thoPhu.id;\n    },\n    // ===============================\n    onFileChange(e) {\n      this.formsubmit.bill_image = e.target.files[0];\n      this.url = URL.createObjectURL(this.formsubmit.bill_image);\n    },\n    // ==============\n    removeFile() {\n      this.formsubmit.bill_image = \"\";\n      this.url = \"\";\n    },\n    backPage() {\n      history.back();\n    },\n    formatPrice,\n  },\n};\n</script>\n<style scoped>\n* {\n  font-size: 14px;\n}\n.table-input {\n  padding: 5px 10px;\n}\n.borderx {\n  border: 1px solid #d4476f;\n  padding: 5px 25px;\n  border-radius: 4px;\n  cursor: pointer;\n}\n\n.borderx:hover {\n  color: white;\n  background-color: #d4476f;\n}\n\nlabel {\n  padding: 25px 15px;\n  background: rgba(255, 255, 255, 0.56);\n\n  box-shadow: 0px 4px 4px rgba(0, 0, 0, 0.05);\n  border-radius: 8px;\n}\n\nul {\n  padding: 5px 15px;\n}\n\nli {\n  padding: 5px 15px;\n  list-style: none;\n}\n\n.card-header {\n  padding: 5px;\n  border-bottom: none;\n  background: rgba(255, 255, 255, 0.56);\n}\n\n.card-body {\n  padding: 0;\n}\n\n.card {\n  border: none;\n}\n.active_cus {\n  background: #d4476f;\n  color: white;\n}\n</style>\n<style\n  src=\"../../modul/@suadelabs/vue3-multiselect/dist/vue3-multiselect.css\"\n></style>\n"]}]}